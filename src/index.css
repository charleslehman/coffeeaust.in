@import 'tailwindcss';
@import 'maplibre-gl/dist/maplibre-gl.css';

/* ===========================
   CSS Variables (HSL-based for shadcn/ui)
   Warm coffee palette
   =========================== */

:root {
  --background: 30 33% 97%;
  --foreground: 20 14% 10%;
  --card: 0 0% 100%;
  --card-foreground: 20 14% 10%;
  --primary: 24 60% 40%;
  --primary-foreground: 30 33% 97%;
  --secondary: 30 15% 92%;
  --secondary-foreground: 20 14% 20%;
  --muted: 30 15% 92%;
  --muted-foreground: 20 10% 45%;
  --accent: 24 60% 40%;
  --accent-foreground: 30 33% 97%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 98%;
  --border: 30 20% 88%;
  --ring: 24 60% 40%;
  --radius: 0.75rem;

  --warm-50: 30 40% 98%;
  --warm-100: 30 30% 95%;
  --warm-200: 28 25% 88%;
}

/* ===========================
   Base styles
   =========================== */

* {
  border-color: hsl(var(--border));
}

body {
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overscroll-behavior-y: contain;
}

/* Prevent iOS zoom on inputs */
input, select, textarea {
  font-size: 16px !important;
}

/* ===========================
   Component classes
   =========================== */

.btn-primary {
  @apply inline-flex items-center justify-center gap-2.5 rounded-2xl bg-[hsl(var(--primary))] px-8 py-4 text-[15px] font-semibold text-white shadow-elevated transition-all duration-200 hover:shadow-modal disabled:opacity-50 disabled:cursor-not-allowed;
}

.btn-primary:hover:not(:disabled) {
  transform: translateY(-1px);
}

.btn-primary:active:not(:disabled) {
  transform: translateY(0);
}

.btn-secondary {
  @apply inline-flex items-center justify-center gap-2 rounded-2xl px-8 py-3 text-sm font-medium text-[hsl(var(--muted-foreground))] transition-colors hover:text-[hsl(var(--foreground))];
}

.btn-navigate {
  @apply inline-flex items-center justify-center gap-2.5 rounded-2xl bg-[hsl(var(--primary))] px-8 py-4 text-base font-semibold text-white shadow-elevated transition-all duration-200 hover:shadow-modal;
}

.btn-navigate:hover {
  transform: translateY(-1px);
}

.card {
  @apply bg-white rounded-2xl border shadow-card;
}

.filter-pill {
  @apply inline-flex items-center rounded-full px-4 py-2 text-sm font-medium border transition-colors;
}

.touch-target {
  @apply min-h-[44px] min-w-[44px];
}

.safe-area-top {
  padding-top: env(safe-area-inset-top);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ===========================
   Step indicator dots
   =========================== */

.step-dot {
  @apply h-1.5 w-1.5 rounded-full transition-all duration-300;
}

.step-dot-active {
  @apply w-6 bg-[hsl(var(--primary))];
}

.step-dot-inactive {
  @apply bg-[hsl(var(--border))];
}

.step-dot-complete {
  @apply bg-[hsl(var(--primary))] opacity-40;
}

/* ===========================
   Animations
   =========================== */

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes pulse-ring {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(2.5); opacity: 0; }
}

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

.animate-fade-in {
  animation: fade-in 0.3s ease both;
}

.animate-slide-up {
  animation: slide-up 0.4s ease both;
}

.animate-scale-in {
  animation: scale-in 0.3s ease both;
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}

/* ===========================
   Reduced motion
   =========================== */

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ===========================
   Custom shadows
   =========================== */

@theme {
  --shadow-subtle: 0 1px 2px 0 rgba(0, 0, 0, 0.03);
  --shadow-card: 0 1px 3px 0 rgba(0, 0, 0, 0.04), 0 1px 2px -1px rgba(0, 0, 0, 0.03);
  --shadow-elevated: 0 4px 6px -1px rgba(0, 0, 0, 0.07), 0 2px 4px -2px rgba(0, 0, 0, 0.04);
  --shadow-modal: 0 20px 25px -5px rgba(0, 0, 0, 0.08), 0 8px 10px -6px rgba(0, 0, 0, 0.04);
}
